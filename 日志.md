<h2 align='center'>  第21小组工作日志 </h2>

<center><font size='3' style='font-family:楷体'> 曹展翔 付欣旺 明陈林 徐昕翃 </font></center>


#### 6/28上午

1，完成预习汇报。

2，研究套件的组装说明，将套件零件组装成小车。

3，研究 $CCS$ 编译器的使用，理解 $launchpad$ 的工作原理和底层代码。

#### 6/28下午

1，学习 $TI$ 官方的教学视频。

2，研究了底层代码的逻辑和接口的选择，发现并不能在短时间内完全弄懂底层硬件和代码的关联，所以选择先使用 $TI$ 官方给的接口进行调试。

3，跑通了第一个官方 $Demo$：串口输出字符串；可以通过 $launchpad$ 通过 $UART$ 协议向 $PC$ 进行有线数据传输。

#### 6/29上午

1，跑通了支持小车移动的 $Demo$，学习了 $TI$ 官方给的部分库函数。

2，完成小车测速信息的传导，发现在设定左右两轮相同的转速条件下，小车总是向右偏（即左轮实际转速更快）。

3，通过 $python$ 处理小车传回的左右轮速度和旋转圈数的数据，并完成相应的绘图；发现 $Tachometer$ 模块传回的速度数据误差很大，无法使用：在左右轮设定转速相同的情况下，拟合转速计测量的速度，发现数据变动很大，完全不能拟合成一条直线。

3，能够自行编写控制小车移动，转向，通过碰撞传感器识别碰撞信号并产生反应。

#### 6/29下午

1，完成了蓝牙 $HC05$ 的安装，能够通过手机端的串口助手连接蓝牙控制小车；

2，完成了小车和电脑端的蓝牙连接，通过电脑端的串口助手实现小车和电脑的双向交互（电脑控制小车移动，小车向电脑回传运动数据）。

#### 6/30上午

1，通过 $python$ 的多线程完成路径绘制的 $ Demo$，实现动态绘制点列不断增加的路径。

2，尝试使用 $I2C$ 协议连接 $GY-521$ 陀螺仪。

3，编写 $python$ 多线程 $PC$ 小车交互程序，完成 $python$ 端对于小车的控制。

#### 6/30下午

1，完成了 $python$ 蓝牙串口的调试，能够通过 $python$ 控制台发送信号控制小车并且能够接收小车返回的信息。

2，继续尝试使用 $I2C$ 协议连接 $GY-521$ 陀螺仪，最后选择放弃，计划改用 $JY61$ 陀螺仪的 $UART$ 通信。

#### 7/1上午
1，熟悉 $JY61$ 陀螺仪参数信息，尝试通过串口获取陀螺仪数据；

2，继续完成软件的开发，完善电脑端控制程序和 $UI$ 界面的处理。

#### 7/1下午
1，成功接受到陀螺仪传回的数据，并且开发出第二个串口通信；

2，将已经实现的小车硬件功能进行封装。

#### 7/2上午

1，进一步封装了 $HC05$ 和 $JY61$ 的代码。

2，搭建了迷宫场地。

3，对场地进行拍摄，对数字图像进行了初步的处理，提取墙壁骨架。

#### 7/2下午

1，尝试思考路径规划的算法，计划通过 $bfs$ 算法模拟小车在迷宫中的姿态完成。

2，尝试使用陀螺仪位姿比例 $(P)$ 反馈调节使小车直线前进，但实验过程中出现了小小的意外：落地即被其他组成员踩坏电机。

3，针对电机的损坏，尝试修复，联系老师，在淘宝上购买了相应的电机。

#### 7/3上午

1，电机到货，进行装载实验，发现左轮存在质量问题，联系退换货。

2，设计电脑端控制程序以及 $UI$ 界面。

3，编写图像路径规划算法。

#### 7/3下午

1，编写电脑端控制程序以及 $UI$ 界面。

2，编写图像途径规划算法并进行修正。

3，重新组装小车并进行调试。

#### 7/4上午

1，完成图像路径算法的设计。

2，完成小车移动路线的路径图和动态图。

3，进一步进行串口通信的 $UI$ 界面的设计、

4，针对通信中存在的问题进行修正。

#### 7/4下午

1，完成图像路径动画的绘制；

2，完成 $UI$ 界面以及 $LOGO$ 的设计；

3，解决小车和 $PC$ 端存在的通信问题。

#### 7/5上午

1，实现基础的 $PID$ 部分，测试小车直线行走。

2，针对小车无循迹直行的情况，调整直行、左转、右转的参数。

#### 7/5下午

1，解决PC端与小车蓝牙通信协议的 $bug$，修正左转参数。

2，赛道测试小车与PC端配合。

#### 7/6上午

1，通过陀螺仪传回的角度，调整小车行进参数。

2，尝试实时路径显示，并取得一定的效果。

#### 7/6下午

1，进行走迷宫的验收，拍摄行走视频。

2，小车硬件控制代码本身。

#### 7/7上午

1，设计了蜂鸣器模块和 $LED$ 模块；

2，设计了小车的红外模块，并完成了红外模块与小车的结合；

3，修改小车通信控制代码，调节直行和转向参数。

#### 7/7下午

1，在不改变小车硬件算法的情况下，对小车直行和转弯的参数进行试错调节，尝试找到最佳参数，但是效果不尽人意。

2，通过红外模块的返回值，修改软件控制代码，完成小车的避障。

#### 7/8上午

1，重新设计了转弯算法，采用了独创的“抽搐算法”，并进行测试，取得了非常好的效果。

2，尝试使用绝对角度和相对角度进行直行的测试，最终选择相对角度之后添加方向纠正，能够较好地完成整个路线的行进。

#### 7/8下午

1，完成了小车无障碍，有障碍行进，$LED$ 和蜂鸣器的验收；至此，基本设计内容已经全部完成。

#### 7/14上午

1，完成了最终报告的撰写和排版，准备结课！！！撒花撒花。